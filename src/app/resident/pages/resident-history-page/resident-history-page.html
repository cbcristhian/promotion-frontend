<div class="max-w-3xl mx-auto p-4 space-y-6">
  <div class="card bg-base-100 shadow">
    <div class="card-body space-y-2">
      <h2 class="card-title text-xl">Your Current Parking Assignment</h2>

      @if (historyResource.value()?.length) {
        @let latest = historyResource.value()?.[0]!;
        <app-resident-spot-card-component [history]="latest"></app-resident-spot-card-component>
      } @else {
        <p class="opacity-70 text-sm">No raffle history found.</p>
      }
    </div>
  </div>

  <div class="card bg-base-100 shadow">
    <div class="card-body">
      <h3 class="card-title text-lg">Full Assignment History</h3>
      <p class="opacity-60 text-sm">Every raffle you participated in.</p>
      <div class="divider"></div>
      @if (historyResource.value()) {

        <div class="space-y-4">

          @for (r of historyResource.value(); track r.executedAt) {
            <app-resident-spot-card-component [history]="r" [isLatest]="false"></app-resident-spot-card-component>
          }

        </div>
      } @else {
        <p class="opacity-70">No history available.</p>
      }
    </div>
  </div>

</div>

